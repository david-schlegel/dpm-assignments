ggplot(aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
scale_x_continuous(limits = c(1, 6)) +
theme_light() +
labs(x = x_label, y = "IAT Score",
title = title,
color = "IAT Score Category", shape = "IAT Score Category") +
scale_shape_manual(values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil"))
# Function to create the scatterplot
create_scatterplot <- function(data, subscale, x_label, title) {
data |>
filter(subscales == subscale) |>
ggplot(aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
scale_x_continuous(limits = c(1, 6)) +
theme_light() +
labs(x = x_label, y = "IAT Score",
title = title,
color = "IAT Score Category", shape = "IAT Score Category") +
scale_shape_manual(values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil"))
}
# Agreeableness Plot
p1_a <- create_scatterplot(dat_scatterplots, "mean_bfi_agreeableness", "Agreeableness Score", "Agreeableness Predicting IAT Scores")
print(p1_a)
data |>
filter(subscales == subscale) |>
ggplot(aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
theme_light() +
labs(x = x_label, y = "IAT Score",
title = title,
color = "IAT Score Category", shape = "IAT Score Category") +
scale_shape_manual(values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil"))
# Function to create the scatterplot
create_scatterplot <- function(data, subscale, x_label, title) {
data |>
filter(subscales == subscale) |>
ggplot(aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
theme_light() +
labs(x = x_label, y = "IAT Score",
title = title,
color = "IAT Score Category", shape = "IAT Score Category") +
scale_shape_manual(values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil"))
}
# Agreeableness Plot
p1_a <- create_scatterplot(dat_scatterplots, "mean_bfi_agreeableness", "Agreeableness Score", "Agreeableness Predicting IAT Scores")
print(p1_a)
print(p5_n)
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n
library(patchwork)
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n
print(combined_plot)
?patchwork
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n + plot_layout(nrow = 5)
print(combined_plot)
ggsave("test.jpg")
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n + plot_layout(guides = 'collect')
print(combined_plot)
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n + plot_layout(guides = 'collect')
combined_plot <- combined_plot + plot_layout(plot.margin = margin(5, 5, 5, 5))
combined_plot <- combined_plot + plot_annotation(title = 'Predicting IAT Scores from Personality Subscales',
subtitle = 'A Visualization of Multiple Linear Regressions')
print(combined_plot)
data |>
filter(subscales == subscale) |>
ggplot(aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
theme_light() +
labs(x = x_label, y = "IAT Score",
title = title,
color = "IAT Score Category", shape = "IAT Score Category") +
theme(axis.text = element_text(size = 12),
axis.title = element_text(size = 14),
plot.title = element_text(size = 16)) +
scale_shape_manual(values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil"))
# Function to create the scatterplot
create_scatterplot <- function(data, subscale, x_label, title) {
data |>
filter(subscales == subscale) |>
ggplot(aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
theme_light() +
labs(x = x_label, y = "IAT Score",
title = title,
color = "IAT Score Category", shape = "IAT Score Category") +
theme(axis.text = element_text(size = 12),
axis.title = element_text(size = 14),
plot.title = element_text(size = 16)) +
scale_shape_manual(values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil"))
}
# Agreeableness Plot
p1_a <- create_scatterplot(dat_scatterplots, "mean_bfi_agreeableness", "Agreeableness Score", "Agreeableness Predicting IAT Scores")
# Conscientiousness Plot
p2_c <- create_scatterplot(dat_scatterplots, "mean_bfi_conscientiousness", "Conscientiousness Score", "Conscientiousness Predicting IAT Scores")
# Extraversion Plot
p3_e <- create_scatterplot(dat_scatterplots, "mean_bfi_extraversion", "Extraversion Score", "Extraversion Predicting IAT Scores")
# Extraversion Plot
p4_o <- create_scatterplot(dat_scatterplots, "mean_bfi_openness", "Openness Score", "Openness Predicting IAT Scores")
# Extraversion Plot
p5_n <- create_scatterplot(dat_scatterplots, "mean_bfi_neuroticism", "Neuroticism Score", "Neuroticism Predicting IAT Scores")
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n + plot_layout(guides = 'collect')
combined_plot <- combined_plot + plot_layout(plot.margin = margin(5, 5, 5, 5))
combined_plot <- combined_plot + plot_annotation(title = 'Predicting IAT Scores from Personality Subscales',
subtitle = 'A Visualization of Multiple Linear Regressions')
print(combined_plot)
data_processed_after_exclusion <- data_processed_after_exclusion |>
mutate(extreme_scores_iat = ifelse(iat_d_score > quantile(iat_d_score, 0.9) | iat_d_score < quantile(iat_d_score, 0.1), "Extreme", "Not extreme"))
# to longer
dat_scatterplots <- data_processed_after_exclusion |>
select(unique_id, starts_with(c("mean_bfi")), iat_d_score, extreme_scores_iat) |>
pivot_longer(cols = starts_with("mean_bfi"), names_to = "subscales", values_to = "score")
# Load colors
wes_palette <- wes_palette("Zissou1", n = 5, type = "continuous")
# Function to create the scatterplot
create_scatterplot <- function(data, subscale, x_label, title) {
data |>
filter(subscales == subscale) |>
ggplot(aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
theme_light() +
labs(x = x_label, y = "IAT Score",
title = title,
color = "IAT Score Category", shape = "IAT Score Category") +
theme(axis.text = element_text(size = 10),
axis.title = element_text(size = 10),
plot.title = element_text(size = 16)) +
scale_shape_manual(values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil"))
}
# Agreeableness Plot
p1_a <- create_scatterplot(dat_scatterplots, "mean_bfi_agreeableness", "Agreeableness Score", "Agreeableness Predicting IAT Scores")
# Conscientiousness Plot
p2_c <- create_scatterplot(dat_scatterplots, "mean_bfi_conscientiousness", "Conscientiousness Score", "Conscientiousness Predicting IAT Scores")
# Extraversion Plot
p3_e <- create_scatterplot(dat_scatterplots, "mean_bfi_extraversion", "Extraversion Score", "Extraversion Predicting IAT Scores")
# Extraversion Plot
p4_o <- create_scatterplot(dat_scatterplots, "mean_bfi_openness", "Openness Score", "Openness Predicting IAT Scores")
# Extraversion Plot
p5_n <- create_scatterplot(dat_scatterplots, "mean_bfi_neuroticism", "Neuroticism Score", "Neuroticism Predicting IAT Scores")
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n + plot_layout(guides = 'collect')
combined_plot <- combined_plot + plot_annotation(title = 'Predicting IAT Scores from Personality Subscales',
subtitle = 'A Visualization of Multiple Linear Regressions')
print(combined_plot)
data_processed_after_exclusion <- data_processed_after_exclusion |>
mutate(extreme_scores_iat = ifelse(iat_d_score > quantile(iat_d_score, 0.9) | iat_d_score < quantile(iat_d_score, 0.1), "Extreme", "Not extreme"))
# to longer
dat_scatterplots <- data_processed_after_exclusion |>
select(unique_id, starts_with(c("mean_bfi")), iat_d_score, extreme_scores_iat) |>
pivot_longer(cols = starts_with("mean_bfi"), names_to = "subscales", values_to = "score")
# Load colors
wes_palette <- wes_palette("Zissou1", n = 5, type = "continuous")
# Function to create the scatterplot
create_scatterplot <- function(data, subscale, x_label, title) {
data |>
filter(subscales == subscale) |>
ggplot(aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
theme_light() +
labs(x = x_label, y = "IAT Score",
title = title,
color = "IAT Score Category", shape = "IAT Score Category") +
theme(axis.text = element_text(size = 10),
axis.title = element_text(size = 10),
plot.title = element_text(size = 10)) +
scale_shape_manual(values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil"))
}
# Agreeableness Plot
p1_a <- create_scatterplot(dat_scatterplots, "mean_bfi_agreeableness", "Agreeableness Score", "Agreeableness Predicting IAT Scores")
# Conscientiousness Plot
p2_c <- create_scatterplot(dat_scatterplots, "mean_bfi_conscientiousness", "Conscientiousness Score", "Conscientiousness Predicting IAT Scores")
# Extraversion Plot
p3_e <- create_scatterplot(dat_scatterplots, "mean_bfi_extraversion", "Extraversion Score", "Extraversion Predicting IAT Scores")
# Extraversion Plot
p4_o <- create_scatterplot(dat_scatterplots, "mean_bfi_openness", "Openness Score", "Openness Predicting IAT Scores")
# Extraversion Plot
p5_n <- create_scatterplot(dat_scatterplots, "mean_bfi_neuroticism", "Neuroticism Score", "Neuroticism Predicting IAT Scores")
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n + plot_layout(guides = 'collect')
combined_plot <- combined_plot + plot_layout(plot.margin = margin(5, 5, 5, 5))
combined_plot <- combined_plot + plot_annotation(title = 'Predicting IAT Scores from Personality Subscales',
subtitle = 'A Visualization of Multiple Linear Regressions')
print(combined_plot)
data_processed_after_exclusion <- data_processed_after_exclusion |>
mutate(extreme_scores_iat = ifelse(iat_d_score > quantile(iat_d_score, 0.9) | iat_d_score < quantile(iat_d_score, 0.1), "Extreme", "Not extreme"))
# to longer
dat_scatterplots <- data_processed_after_exclusion |>
select(unique_id, starts_with(c("mean_bfi")), iat_d_score, extreme_scores_iat) |>
pivot_longer(cols = starts_with("mean_bfi"), names_to = "subscales", values_to = "score")
# Load colors
wes_palette <- wes_palette("Zissou1", n = 5, type = "continuous")
# Function to create the scatterplot
create_scatterplot <- function(data, subscale, x_label, title) {
data |>
filter(subscales == subscale) |>
ggplot(aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
theme_light() +
labs(x = x_label, y = "IAT Score",
title = title,
color = "IAT Score Category", shape = "IAT Score Category") +
theme(axis.text = element_text(size = 10),
axis.title = element_text(size = 10),
plot.title = element_text(size = 10)) +
scale_shape_manual(values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil"))
}
# Agreeableness Plot
p1_a <- create_scatterplot(dat_scatterplots, "mean_bfi_agreeableness", "Agreeableness Score", "Agreeableness")
# Conscientiousness Plot
p2_c <- create_scatterplot(dat_scatterplots, "mean_bfi_conscientiousness", "Conscientiousness Score", "Conscientiousness")
# Extraversion Plot
p3_e <- create_scatterplot(dat_scatterplots, "mean_bfi_extraversion", "Extraversion Score", "Extraversion")
# Extraversion Plot
p4_o <- create_scatterplot(dat_scatterplots, "mean_bfi_openness", "Openness Score", "Openness")
# Extraversion Plot
p5_n <- create_scatterplot(dat_scatterplots, "mean_bfi_neuroticism", "Neuroticism Score", "Neuroticism")
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n + plot_layout(guides = 'collect')
combined_plot <- combined_plot + plot_layout(plot.margin = margin(5, 5, 5, 5))
combined_plot <- combined_plot + plot_annotation(title = 'Predicting IAT Scores from Personality Subscales',
subtitle = 'A Visualization of Multiple Linear Regressions')
print(combined_plot)
data_processed_after_exclusion <- data_processed_after_exclusion |>
mutate(extreme_scores_iat = ifelse(iat_d_score > quantile(iat_d_score, 0.9) | iat_d_score < quantile(iat_d_score, 0.1), "Extreme", "Not extreme"))
# to longer
dat_scatterplots <- data_processed_after_exclusion |>
select(unique_id, starts_with(c("mean_bfi")), iat_d_score, extreme_scores_iat) |>
pivot_longer(cols = starts_with("mean_bfi"), names_to = "subscales", values_to = "score")
# Load colors
wes_palette <- wes_palette("Zissou1", n = 5, type = "continuous")
# Function to create the scatterplot
create_scatterplot <- function(data, subscale, title) {
data |>
filter(subscales == subscale) |>
ggplot(aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
theme_light() +
labs(x = "BFI Score", y = "IAT Score",
title = title,
color = "IAT Score Category", shape = "IAT Score Category") +
theme(axis.text = element_text(size = 10),
axis.title = element_text(size = 10),
plot.title = element_text(size = 10)) +
scale_shape_manual(values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil"))
}
# Agreeableness Plot
p1_a <- create_scatterplot(dat_scatterplots, "mean_bfi_agreeableness", "Agreeableness")
# Conscientiousness Plot
p2_c <- create_scatterplot(dat_scatterplots, "mean_bfi_conscientiousness", "Conscientiousness")
# Extraversion Plot
p3_e <- create_scatterplot(dat_scatterplots, "mean_bfi_extraversion", "Extraversion")
# Extraversion Plot
p4_o <- create_scatterplot(dat_scatterplots, "mean_bfi_openness", "Openness")
# Extraversion Plot
p5_n <- create_scatterplot(dat_scatterplots, "mean_bfi_neuroticism", "Neuroticism")
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n + plot_layout(guides = 'collect')
combined_plot <- combined_plot + plot_layout(plot.margin = margin(5, 5, 5, 5))
combined_plot <- combined_plot + plot_annotation(title = 'Predicting IAT Scores from Personality Subscales',
subtitle = 'A Visualization of Multiple Linear Regressions')
print(combined_plot)
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n + guide_area() + plot_layout(guides = 'collect')
combined_plot <- combined_plot + plot_layout(plot.margin = margin(5, 5, 5, 5))
combined_plot <- combined_plot + plot_annotation(title = 'Predicting IAT Scores from Personality Subscales',
subtitle = 'A Visualization of Multiple Linear Regressions')
print(combined_plot)
data_processed_after_exclusion <- data_processed_after_exclusion |>
mutate(extreme_scores_iat = ifelse(iat_d_score > quantile(iat_d_score, 0.9) | iat_d_score < quantile(iat_d_score, 0.1), "Extreme", "Not extreme"))
# to longer
dat_scatterplots <- data_processed_after_exclusion |>
select(unique_id, starts_with(c("mean_bfi")), iat_d_score, extreme_scores_iat) |>
pivot_longer(cols = starts_with("mean_bfi"), names_to = "subscales", values_to = "score")
# Load colors
wes_palette <- wes_palette("Zissou1", n = 5, type = "continuous")
# Function to create the scatterplot
create_scatterplot <- function(data, subscale, title) {
data |>
filter(subscales == subscale) |>
ggplot(aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
theme_light() +
labs(x = "BFI Score", y = "IAT Score",
title = title,
color = "IAT Score Category", shape = "IAT Score Category") +
theme(axis.text = element_text(size = 10),
axis.title = element_text(size = 8),
plot.title = element_text(size = 10)) +
scale_shape_manual(values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil"))
}
# Agreeableness Plot
p1_a <- create_scatterplot(dat_scatterplots, "mean_bfi_agreeableness", "Agreeableness")
# Conscientiousness Plot
p2_c <- create_scatterplot(dat_scatterplots, "mean_bfi_conscientiousness", "Conscientiousness")
# Extraversion Plot
p3_e <- create_scatterplot(dat_scatterplots, "mean_bfi_extraversion", "Extraversion")
# Extraversion Plot
p4_o <- create_scatterplot(dat_scatterplots, "mean_bfi_openness", "Openness")
# Extraversion Plot
p5_n <- create_scatterplot(dat_scatterplots, "mean_bfi_neuroticism", "Neuroticism")
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n + guide_area() + plot_layout(guides = 'collect')
combined_plot <- combined_plot + plot_annotation(
title = 'Predicting IAT Scores from Personality Subscales',
subtitle = 'A Visualization of Multiple Linear Regressions')
print(combined_plot)
# Faccetted Plots
my_labeller <- as_labeller(c(
mean_bfi_agreeableness = "Agreeableness",
mean_bfi_conscientiousness = "Conscientiousness",
mean_bfi_extraversion = "Extraversion",
mean_bfi_openness = "Openness",
mean_bfi_neuroticism = "Neuroticism"
))
ggplot(dat_scatterplots, aes(x = score, y = iat_d_score)) +
geom_point(aes(color = extreme_scores_iat, shape = extreme_scores_iat)) +
geom_smooth(method = "lm", se = FALSE, aes(group = 1), color = wes_palette[3]) +
scale_color_manual(
values = c("Extreme" = wes_palette[2], "Not extreme" = wes_palette[1]),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
facet_wrap(~subscales, scales = "free", labeller = my_labeller) +
theme_light() +
labs(x = "BFI Subscale Score", y = "IAT Score",
title = "Predicting IAT Scores from Personality Subscales",
subtitle = "A Visualization of Multiple Linear Regressions",
color = "IAT Score Category", shape = "IAT Score Category") +
scale_shape_manual(
values = c("Extreme" = 17, "Not extreme" = 16),
name = "IAT-Score classification",
labels = c("Top/bottom 10% quantil", "10%-90% quantil")) +
theme(legend.position = c(0.98, 0.1),
legend.justification = c("right", "bottom"))
ggsave("scatterplot_bfi_iat.png")
ggsave("scatterplot_bfi_iat.pdf",  device = cairo_pdf, width = 10, height = 8)
combined_plot <- p1_a + p2_c + p3_e + p4_o + p5_n + guide_area() + plot_layout(guides = 'collect')
combined_plot <- combined_plot + plot_annotation(
title = "Predicting IAT Scores from Personality Subscales",
subtitle = "A Visualization of Multiple Linear Regressions")
print(combined_plot)
ggsave("../communication/combined_plot.png")
ggsave("../communication/combined_plot.pdf")
# set knit options
knitr::opts_chunk$set(message = FALSE,
warning = FALSE)
# disable scientific notation
options(scipen = 999)
library(tidyverse)
library(knitr)
library(kableExtra)
library(janitor)
library(scales)
library(psych)
library(ggplot2)
library(easystats)
library(wesanderson)
library(patchwork)
data_processed <- read_csv("../data/processed/data_processed.csv")
#data_processed_after_exclusions <- data_processed |>
#  filter(exclude_participant == "include")
data_processed |>
count(name = "n") |>
kable() |>
add_header_above(header = c("Whole sample" = 1)) |> # note that you can add header rows to tables like this. The "1" indicates the number of columns the header should span. The sum of these numbers must equal the number of columns or you'll get an error.
kable_classic(full_width = FALSE)
data_processed_after_exclusion <- data_processed |>
filter(exclude_participant == "include")
data_processed_after_exclusion |>
count(name = "n") |>
kable() |>
add_header_above(header = c("Sample after exclusions" = 1)) |>
kable_classic(full_width = FALSE)
# Age and SD Age
data_processed_after_exclusion |>
mutate(age = as.numeric(age)) |>
summarise(Mean = mean(age, na.rm = TRUE),
SD = sd(age, na.rm = TRUE)) |>
mutate_all(.funs = janitor::round_half_up, digits = 1) |>
kable() |>
add_header_above(header = c("Age" = 2)) |>
kable_classic(full_width = FALSE)
# Frequency and percentage of men vs. women
result_table <- data_processed_after_exclusion |>
count(gender) |>
mutate(percentage_gender = (n / sum(n) * 100)) |>
mutate(percentage_gender = janitor::round_half_up(percentage_gender, digits = 2))
rownames(result_table) <- toupper(rownames(result_table))
result_table |>
kable(col.names = c("Gender", "Frequency", "Percentage Gender")) |>
kable_classic(full_width = FALSE)
# Proportion of demographics available
data_processed_after_exclusion |>
summarise(proportion_age = sum())
data_processed_after_exclusion |>
summarise(proportion_with_age_info = sum(age != "not indicated") / n(),
proportion_with_gender_info = sum(gender != "not indicated") / n()) |>
mutate_all(.funs = janitor::round_half_up, digits = 2) |>
kable(col.names = c("Proportion with age info", "Proportion with gender info")) |>
kable_classic(full_width = FALSE)
View(result_table)
rownames(result_table) <- toupper(rownames(result_table))
View(result_table)
rownames(result_table) <- toupper(rownames(result_table))
# Frequency and percentage of men vs. women
data_processed_after_exclusion |>
count(gender) |>
mutate(percentage_gender = (n / sum(n) * 100),
percentage_gender = janitor::round_half_up(percentage_gender, digits = 2),
gender = toupper(gender)) |>
kable(col.names = c("Gender", "Frequency", "Percentage Gender")) |>
kable_classic(full_width = FALSE)
# Frequency and percentage of men vs. women
data_processed_after_exclusion |>
count(gender) |>
mutate(percentage_gender = (n / sum(n) * 100),
percentage_gender = janitor::round_half_up(percentage_gender, digits = 2),
gender = gender = str_to_title(gender)) |>
# Frequency and percentage of men vs. women
data_processed_after_exclusion |>
count(gender) |>
mutate(percentage_gender = (n / sum(n) * 100),
percentage_gender = janitor::round_half_up(percentage_gender, digits = 2),
gender = str_to_title(gender)) |>
kable(col.names = c("Gender", "Frequency", "Percentage Gender")) |>
kable_classic(full_width = FALSE)
# Proportion of demographics available
data_processed_after_exclusion |>
summarise(proportion_age = sum())
data_processed_after_exclusion |>
summarise(proportion_with_age_info = sum(age != "not indicated") / n(),
proportion_with_gender_info = sum(gender != "not indicated") / n()) |>
mutate_all(.funs = janitor::round_half_up, digits = 2) |>
kable(col.names = c("Proportion with age info", "Proportion with gender info")) |>
kable_classic(full_width = FALSE)
kable(col.names = c("Age", "Gender")) |>
add_header_above(header = c("Proportion provided" = 2) |>
data_processed_after_exclusion |>
data_processed_after_exclusion |>
summarise(proportion_with_age_info = sum(age != "not indicated") / n(),
proportion_with_gender_info = sum(gender != "not indicated") / n()) |>
mutate_all(.funs = janitor::round_half_up, digits = 2) |>
kable(col.names = c("Age", "Gender")) |>
add_header_above(header = c("Proportion provided" = 2) |>
kable_classic(full_width = FALSE)
data_processed_after_exclusion %>%
data_processed_after_exclusion |>
summarise(proportion_with_age_info = sum(age != "not indicated") / n(),
proportion_with_gender_info = sum(gender != "not indicated") / n()) |>
mutate(across(everything(), ~janitor::round_half_up(., digits = 2))) |>
kable(col.names = c("Age", "Gender")) |>
add_header_above(c("Proportion provided" = 2)) |>
kable_classic(full_width = FALSE)
