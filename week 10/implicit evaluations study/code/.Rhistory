library(stringr)
# demographics
data_demographics_raw <- read_csv("../data/raw/data_demographics_raw.csv") |>
janitor::clean_names()
# set knit options
knitr::opts_chunk$set(message = FALSE,
warning = FALSE)
# set knit options
knitr::opts_chunk$set(message = FALSE,
warning = FALSE)
# disable scientific notation
options(scipen = 999)
library(tidyverse)
library(knitr)
library(kableExtra)
library(janitor)
library(scales)
# set knit options
knitr::opts_chunk$set(message = FALSE,
warning = FALSE)
# disable scientific notation
options(scipen = 999)
library(tidyverse)
library(knitr)
library(kableExtra)
library(janitor)
library(scales)
data_processed <- read_csv("../data/processed/data_processed.csv")
setwd("~/Documents/GitHub/dpm-assignments/week 10/implicit evaluations study/code")
data_processed <- read_csv("../data/processed/data_processed.csv")
data_processed_after_exclusions <- data_processed |>
filter(exclude_participant == "include")
data_processed |>
count(name = "n") |>
kable() |>
add_header_above(header = c("Whole sample" = 1)) |> # note that you can add header rows to tables like this. The "1" indicates the number of columns the header should span. The sum of these numbers must equal the number of columns or you'll get an error.
kable_classic(full_width = FALSE)
data_processed_after_exclusions |>
count(name = "n") |>
kable() |>
add_header_above(header = c("For analysis" = 1)) |>
kable_classic(full_width = FALSE)
data_processed_after_exclusions |>
mutate(age = as.numeric(age)) |>
summarise(Mean = mean(age, na.rm = TRUE),
SD = sd(age, na.rm = TRUE)) |>
mutate_all(.funs = janitor::round_half_up, digits = 1) |>
kable() |>
add_header_above(header = c("Age" = 2)) |>
kable_classic(full_width = FALSE)
data_processed_after_exclusions |>
rename(Gender = gender) |>
group_by(Gender) |>
summarise(n = n()) |>
mutate(Percent = paste0(round_half_up((n / sum(n)) * 100, 1), "%")) |>
mutate(Gender = stringr::str_to_sentence(Gender)) |> # Change the case of the Gender variable so that it prints nicely
kable() |>
kable_classic(full_width = FALSE)
# overall self-reported evaluations
dat_mean_ratings <- data_processed_after_exclusions |>
summarise(Mean = mean(mean_evaluation, na.rm = TRUE),
SD = sd(mean_evaluation, na.rm = TRUE),
n = n()) |>
mutate(group = "Full sample")
# self-reported evaluations by gender category
dat_mean_ratings_by_gender <- data_processed_after_exclusions |>
group_by(group = gender) |>
summarise(Mean = mean(mean_evaluation, na.rm = TRUE),
SD = sd(mean_evaluation, na.rm = TRUE),
n = n())
# combine both into one table
bind_rows(dat_mean_ratings,
dat_mean_ratings_by_gender) |>
select(Subset = group, Mean, SD, n) |> # select variables of interest, and rename one
mutate(Subset = stringr::str_to_sentence(Subset)) |> # Change the case of the Subset variable so that it prints nicely
mutate_if(is.numeric, round_half_up, digits = 2) |>
kable() |>
add_header_above(header = c(" " = 1, "Self-reported evaluations" = 3)) |>
kable_classic(full_width = FALSE)
ggplot(data_processed_after_exclusions, aes(x = mean_evaluation)) +
geom_histogram(binwidth = 1,
boundary = 0,
fill = viridis_pal(begin = 0.45, option = "mako")(1),
color = viridis_pal(begin = 0.30, option = "mako")(1)) +
xlab("Mean self-reported evaluation") +
ylab("Frequency") +
theme_linedraw() +
scale_x_continuous(breaks = pretty_breaks(n = 7)) +
coord_cartesian(xlim = c(1, 7)) +
theme(panel.grid.minor = element_blank())
ggplot(data_processed_after_exclusions, aes(x = AMP_score)) +
geom_histogram(binwidth = 0.05,
boundary = 0,
fill = viridis_pal(begin = 0.45, option = "mako")(1),
color = viridis_pal(begin = 0.30, option = "mako")(1)) +
xlab("AMP score") +
ylab("Frequency") +
theme_linedraw() +
scale_x_continuous(breaks = pretty_breaks(n = 10))
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
geom_smooth(method = "lm",
color = viridis_pal(begin = 0.45, option = "mako")(1)) +
xlab("AMP score") +
ylab("Mean self-reported evaluation") +
theme_linedraw()
ggplot(data_processed_after_exclusions,
aes(y = AMP_score,
x = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
geom_smooth(method = "lm",
color = viridis_pal(begin = 0.45, option = "mako")(1)) +
ylab("AMP score") +
xlab("Mean self-reported evaluation") +
theme_linedraw()
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
xlab("AMP score") +
ylab("Mean self-reported evaluation") +
theme_linedraw()
install.packages("ggExtra")
library(ggExtra)
library(ggExtra)
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation))
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_point()
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
p1 <- ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
ggMarginal(p1, type = "histogram")
View(data_processed_after_exclusions)
p1 <- ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
facet_wrap(~ gender)
p1
ggMarginal(p1, type = "histogram")
data_female <- subset(data_processed_after_exclusions, gender == "female")
View(data_female)
data_male <- subset(data_processed_after_exclusions, gender == "male")
p_female <- ggplot(data_female,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
p_male <- ggplot(data_female,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
p_male
p_male_hist <- ggExtra::ggMarginal(p_male, type = "histogram")
p_female_hist <- ggExtra::ggMarginal(p_female, type = "histogram")
grid.arrange(p_male_hist, p_female_hist, ncol = 1)
gridExtra::grid.arrange(p_male_hist, p_female_hist, ncol = 1)
install.packages("wesanderson")
library(wesanderson)
library(ggrepel)
install.packages("ggrepel")
library(ggrepel)
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
geom_text_repel()
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
label = subject)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
geom_text_repel()
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
geom_text_repel(label = subject)
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
label = subject)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
geom_text_repel()
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
color = "gender"))
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
color = "gender")) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
xlab("AMP score") +
ylab("Mean self-reported evaluation")
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
colour = "gender")) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
xlab("AMP score") +
ylab("Mean self-reported evaluation")
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
colour = gender)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
xlab("AMP score") +
ylab("Mean self-reported evaluation")
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
colour = gender))
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
colour = gender)) +
geom_jitter(alpha = 0.5) +
xlab("AMP score") +
ylab("Mean self-reported evaluation")
p1 <- ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
colour = gender)) +
geom_jitter(alpha = 0.5) +
xlab("AMP score") +
ylab("Mean self-reported evaluation")
ggMarginal(p1, groupColour = TRUE, groupFill = TRUE)
ggMarginal(p1, groupColour = TRUE, groupFill = TRUE, type = "histogram")
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
label = subject)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
geom_text_repel()
install.packages("ggmagnify")
library(ggmagnify)
library(ggmagnify)
install.packages("ggmagnify")
remotes::install_github("hughjonesd/ggmagnify")
library(ggmagnify)
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
p2 + geom_magnify(from = from, to = to)
p2 <- ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
from <- c(xmin = 0.4, xmax = 0.6, ymin = 0, ymax = 1.5 )
# Names xmin, xmax, ymin, ymax are optional:
to <- c(xmin = 0.4, xmax = 0.6, ymin = 0, ymax = 1.5 )
p2 + geom_magnify(from = from, to = to)
p2 <- ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
p2
from <- c(xmin = 0.4, xmax = 0.6, ymin = 0, ymax = 1.5 )
# Names xmin, xmax, ymin, ymax are optional:
to <- c(xmin = 0.6, xmax = 0.8, ymin = 0.2, ymax = 1.7 )
p2 + geom_magnify(from = from, to = to)
p2
# Names xmin, xmax, ymin, ymax are optional:
to <- c(xmin = 0.75, xmax = 1, ymin = 4, ymax = 5.8 )
p2 + geom_magnify(from = from, to = to)
from <- c(xmin = 0.4, xmax = 0.6, ymin = 0.4, ymax = 1.5 )
# Names xmin, xmax, ymin, ymax are optional:
to <- c(xmin = 0.75, xmax = 1, ymin = 4, ymax = 5.8 )
p2 + geom_magnify(from = from, to = to)
from <- c(xmin = 0.8, xmax = 0.6, ymin = 0.4, ymax = 1.5 )
# Names xmin, xmax, ymin, ymax are optional:
to <- c(xmin = 0.75, xmax = 1, ymin = 4, ymax = 5.8 )
p2 + geom_magnify(from = from, to = to)
from <- c(xmin = 0.4, xmax = 0.6, ymin = 0.8, ymax = 1.5 )
# Names xmin, xmax, ymin, ymax are optional:
to <- c(xmin = 0.75, xmax = 1, ymin = 4, ymax = 5.8 )
p2 + geom_magnify(from = from, to = to)
from <- c(xmin = 0.4, xmax = 0.6, ymin = 0.8, ymax = 1.3 )
# Names xmin, xmax, ymin, ymax are optional:
to <- c(xmin = 0.75, xmax = 1, ymin = 4, ymax = 5.8 )
p2 + geom_magnify(from = from, to = to)
p2 <- ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
colour = gender)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
p2
from <- c(xmin = 0.4, xmax = 0.6, ymin = 0.8, ymax = 1.3 )
# Names xmin, xmax, ymin, ymax are optional:
to <- c(xmin = 0.75, xmax = 1, ymin = 4, ymax = 5.8 )
p2 + geom_magnify(from = from, to = to)
p2 <- ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
colour = gender)) +
geom_jitter(alpha = 0.5)
p2
from <- c(xmin = 0.4, xmax = 0.6, ymin = 0.8, ymax = 1.3 )
# Names xmin, xmax, ymin, ymax are optional:
to <- c(xmin = 0.75, xmax = 1, ymin = 4, ymax = 5.8 )
p2 + geom_magnify(from = from, to = to)
from <- c(xmin = 0.4, xmax = 0.8, ymin = 0.8, ymax = 1.3 )
# Names xmin, xmax, ymin, ymax are optional:
to <- c(xmin = 0.75, xmax = 1, ymin = 4, ymax = 5.8 )
p2 + geom_magnify(from = from, to = to)
from <- c(xmin = 0.4, xmax = 0.6, ymin = 0.8, ymax = 1.3 )
# Names xmin, xmax, ymin, ymax are optional:
to <- c(xmin = 0.75, xmax = 1, ymin = 4, ymax = 5.8 )
p2 + geom_magnify(from = from, to = to)
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
colour = gender)) +
geom_histogram()
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation)) +
geom_histogram()
?geom_histogram
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation)) +
geom_histogram()
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
colour = gender)) +
geom_histogram()
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
colour = gender)) +
geom_histogram() +
facet_grid()
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
colour = gender)) +
geom_histogram() +
facet_grid(~ gender)
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
fill = gender)) +
geom_histogram() +
facet_grid(~ gender)
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
fill = gender)) +
geom_histogram() +
facet_grid(~ gender) +
theme_minimal()
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
fill = gender)) +
geom_violin() +
facet_grid(~ gender) +
theme_minimal()
colors <- viridis_pal(begin = 0.0, end = 1.0, option = "mako")(10)
colors
show_col(colors)
colors <- wes_palette(begin = 0.0, end = 1.0, option = "mako")(10)
colors <- wes_palette(begin = 0.0, end = 1.0)(10)
colors_wes <- wes_palette("GrandBudapest1")
show_col(colors_wes)
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
fill = gender)) +
geom_histogram() +
facet_grid(~ gender) +
theme_minimal()
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
fill = gender)) +
geom_violin() +
facet_grid(~ gender) +
theme_minimal()
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
y = amp_score,
fill = gender)) +
geom_violin() +
facet_grid(~ gender) +
theme_minimal()
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
y = AMP_score,
fill = gender)) +
geom_violin() +
facet_grid(~ gender) +
theme_minimal()
ggMarginal(p1, groupColour = TRUE, groupFill = TRUE)
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
fill = gender)) +
geom_histogram() +
facet_grid(~ gender) +
theme_minimal()
ggplot(data_processed_after_exclusions,
aes(x = mean_evaluation,
y = AMP_score,
fill = gender)) +
geom_violin() +
facet_grid(~ gender) +
theme_minimal()
# rain
geom_point(aes(colour = gender), size = 2, alpha = .5, show.legend = FALSE,
ggplot(data_processed_after_exclusions, aes(x = "", y = rt, fill = gender)) +
ggplot(data_processed_after_exclusions, aes(x = "", y = rt, fill = gender)) +
introdataviz::geom_flat_violin(trim=FALSE, alpha = 0.4,
ggplot(data_processed_after_exclusions, aes(x = "", y = rt, fill = gender)) +
position = position_nudge(x = rain_height+.05)) +
introdataviz::geom_flat_violin(trim=FALSE, alpha = 0.4,
ggplot(data_processed_after_exclusions, aes(x = "", y = rt, fill = gender)) +
position = position_nudge(x = rain_height+.05)) +
position = position_nudge(x = rain_height+.05)) +
ggplot(data_processed_after_exclusions, aes(x = "", y = rt, fill = gender))
ggplot(data_processed_after_exclusions, aes(x = "", y = mean_evaluation, fill = gender))
geom_point(aes(colour = gender), size = 2, alpha = .5, show.legend = FALSE,
geom_point(aes(colour = gender), size = 2, alpha = .5, show.legend = FALSE,
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
label = subject)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
ggplot(data_processed_after_exclusions,
geom_text_repel()
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
label = subject)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
ggplot(data_processed_after_exclusions,
aes(x = AMP_score,
y = mean_evaluation,
label = subject)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5)
p2 + geom_magnify(from = from, to = to) +
theme_minimal()
Q1 <- quantile(data_processed_after_exclusions$mean_evaluation, 0.25)
Q3 <- quantile(data_processed_after_exclusions$mean_evaluation, 0.75)
IQR <- Q3 - Q1
data_processed_after_exclusions$outlier <- with(data_processed_after_exclusions, mean_evaluation < (Q1 - 1.5 * IQR) | mean_evaluation > (Q3 + 1.5 * IQR))
ggplot(data_processed_after_exclusions,
aes(x = AMP_score, y = mean_evaluation, label = subject)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
geom_text_repel(data = subset(data_processed_after_exclusions, outlier),
aes(label = subject),
box.padding = 0.35, point.padding = 0.3,
segment.color = 'grey50')
ggplot(data_processed_after_exclusions,
aes(x = AMP_score, y = mean_evaluation, label = subject)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
geom_text_repel(data = subset(data_processed_after_exclusions, outlier),
aes(label = subject),
box.padding = 0.2, point.padding = 0.15,
segment.color = 'grey50')
35
ggplot(data_processed_after_exclusions,
aes(x = AMP_score, y = mean_evaluation, label = subject)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
geom_text_repel(data = subset(data_processed_after_exclusions, outlier),
aes(label = subject),
box.padding = 0.35, point.padding = 0.3,
segment.color = 'grey50')
ggplot(data_processed_after_exclusions,
aes(x = AMP_score, y = mean_evaluation, label = subject)) +
geom_jitter(color = viridis_pal(begin = 0.45, option = "mako")(1),
alpha = 0.5) +
geom_text_repel(data = subset(data_processed_after_exclusions, outlier),
aes(label = subject),
box.padding = 0.35, point.padding = 0.3,
segment.color = 'grey50') +
theme_minimal()
